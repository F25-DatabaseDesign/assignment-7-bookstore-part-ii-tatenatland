{% extends 'base.html' %}

{% block container %}
<main id="searchPage">
    {% if term %}
        <h2>Search results for "{{ term }}"</h2>
    {% else %}
        <h2>Search for a book</h2>
    {% endif %}

    {% if books and books|length > 0 %}
        <div id="searchResults">
            {% for book in books %}
                <div class="book">

                    <div>
                        <a href="{{ url_for('book_detail', book_id=book['id']) }}">
                            <img src="{{ url_for('static', filename='images/books/' ~ book['image']) }}"
                                 alt="{{ book['title'] }}">
                        </a>
                    </div>

                    <div class="bookDetailBox">
                        <p class="bookTitle">
                            <a href="{{ url_for('book_detail', book_id=book['id']) }}">
                                {{ book['title'] }}
                            </a>
                        </p>
                        <p class="bookDetail">by {{ book['author'] }}</p>
                        <p class="bookDetail">ISBN: {{ book['isbn'] }}</p>
                        <p class="bookPrice">${{ '%.2f'|format(book['price']) }}</p>
                    </div>

                </div>
            {% endfor %}
        </div>
    {% else %}
        {% if term %}
            <p>No books found.</p>
        {% else %}
            <p>Type a title in the search box above and click Search.</p>
        {% endif %}
    {% endif %}
</main>
{% endblock %}

